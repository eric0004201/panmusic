{"version":3,"sources":["webpack:///./src/views/search/children/SearchSongs.vue?386d","webpack:///src/views/search/children/SearchSongs.vue","webpack:///./src/views/search/children/SearchSongs.vue?67df","webpack:///./src/views/search/children/SearchSongs.vue","webpack:///./src/views/search/children/SearchSongs.vue?7d9c"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","ref","staticStyle","attrs","tableData","on","handleCurrentChange","playSong","fomat","pageSize","cnum","goPage","staticRenderFns","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAa,UAAEU,WAAW,cAAcC,YAAY,gBAAgB,CAACP,EAAG,WAAW,CAACQ,IAAI,cAAcC,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAOd,EAAIe,UAAU,wBAAwB,IAAIC,GAAG,CAAC,iBAAiBhB,EAAIiB,oBAAoB,YAAYjB,EAAIkB,WAAW,CAACd,EAAG,kBAAkB,CAACU,MAAM,CAAC,KAAO,QAAQ,MAAQ,SAAS,MAAQ,SAASV,EAAG,kBAAkB,CAACU,MAAM,CAAC,SAAW,OAAO,MAAQ,OAAO,yBAAwB,KAAQV,EAAG,kBAAkB,CAACU,MAAM,CAAC,MAAQ,QAAQV,EAAG,kBAAkB,CAACU,MAAM,CAAC,SAAW,kBAAkB,MAAQ,KAAK,MAAQ,MAAMV,EAAG,kBAAkB,CAACU,MAAM,CAAC,SAAW,aAAa,MAAQ,KAAK,MAAQ,MAAMV,EAAG,kBAAkB,CAACU,MAAM,CAAC,SAAW,OAAO,UAAYd,EAAImB,MAAM,MAAQ,MAAM,MAAQ,SAAS,GAAGf,EAAG,MAAM,CAACO,YAAY,MAAM,CAACP,EAAG,aAAa,CAACQ,IAAI,OAAOE,MAAM,CAAC,SAAWd,EAAIoB,SAAS,MAAQpB,EAAIqB,MAAML,GAAG,CAAC,OAAShB,EAAIsB,WAAW,IAAI,IAChhCC,EAAkB,G,gDCsDtB,GACA,mBACA,KAFA,WAGA,OACA,aACA,YACA,OACA,OACA,WACA,MACA,gBACA,OACA,eAGA,YACA,mBAEA,QAlBA,WAmBA,+BAEA,iBAGA,OACA,IADA,YAGA,aAEA,uCAEA,gEAIA,OAXA,SAWA,KACA,qBAGA,QAvCA,WAuCA,WACA,OACA,sCACA,SACA,uCACA,WACA,gBAQA,SACA,SADA,WACA,WACA,0BACA,8DACA,2BACA,0BACA,2BACA,mBAGA,SAVA,SAUA,GAEA,eACA,kDACA,iBAEA,0BACA,gEAEA,oBAnBA,SAmBA,GACA,mBAIA,MAxBA,SAwBA,GACA,mCACA,+BAEA,0BAIA,OAhCA,SAgCA,GACA,cACA,gBAEA,4BChJud,I,wBCQndC,EAAY,eACd,EACAzB,EACAwB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf,yBAAsuB,EAAG","file":"js/chunk-70cb3bf6.aa08eded.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"search-songs\"},[_c('el-table',{ref:\"singleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"highlight-current-row\":\"\"},on:{\"current-change\":_vm.handleCurrentChange,\"row-click\":_vm.playSong}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"align\":\"center\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"property\":\"name\",\"label\":\"音乐标题\",\"show-overflow-tooltip\":true}}),_c('el-table-column',{attrs:{\"width\":\"30\"}}),_c('el-table-column',{attrs:{\"property\":\"artists[0].name\",\"label\":\"歌手\",\"width\":\"\"}}),_c('el-table-column',{attrs:{\"property\":\"album.name\",\"label\":\"专辑\",\"width\":\"\"}}),_c('el-table-column',{attrs:{\"property\":\"name\",\"formatter\":_vm.fomat,\"width\":\"100\",\"label\":\"时长\"}})],1),_c('div',{staticClass:\"pg\"},[_c('pagination',{ref:\"page\",attrs:{\"pageSize\":_vm.pageSize,\"total\":_vm.cnum},on:{\"goPage\":_vm.goPage}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"search-songs\" v-loading=\"isLoading\">\r\n\t\t<el-table\r\n\t\t    ref=\"singleTable\"\r\n\t\t    :data=\"tableData\"\r\n\t\t    highlight-current-row\r\n\t\t    @current-change=\"handleCurrentChange\"\r\n\t\t\t\t@row-click=\"playSong\"\r\n\t\t    style=\"width: 100%\">\r\n\t\t   <el-table-column\r\n\t\t         type=\"index\"\r\n\t\t\t\t\t\t align=\"center\"\r\n\t\t         width=\"100\">\r\n\t\t       </el-table-column>\r\n\t\t    <el-table-column\r\n\t\t      property=\"name\"\r\n\t\t      label=\"音乐标题\"\r\n\t\t\t\t\t:show-overflow-tooltip='true'\r\n\t\t      >\r\n\t\t    </el-table-column>\r\n\t\t\t\t<el-table-column width=\"30\">\r\n\t\t\t\t\t\r\n\t\t\t\t</el-table-column>\r\n\t\t    <el-table-column\r\n\t\t      property=\"artists[0].name\"\r\n\t\t      label=\"歌手\"\r\n\t\t\t\t\t\r\n\t\t\t\t\twidth=\"\"\r\n\t\t      >\r\n\t\t    </el-table-column>\r\n\t\t\t\t<el-table-column\r\n\t\t\t\t  property=\"album.name\"\r\n\t\t\t\t  label=\"专辑\"\r\n\t\t\t\t\twidth=\"\"\r\n\t\t\t\t  >\r\n\t\t\t\t</el-table-column>\r\n\t\t    <el-table-column\r\n\t\t      property=\"name\"\r\n\t\t\t\t\t:formatter=\"fomat\"\r\n\t\t\t\t\twidth=\"100\"\r\n\t\t      label=\"时长\">\r\n\t\t    </el-table-column>\r\n\t\t  </el-table>\r\n\t\t\t<div class=\"pg\">\r\n\t\t\t\t<pagination ref='page' :pageSize='pageSize' :total=\"cnum\" @goPage='goPage'></pagination>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { getResult } from 'network/find.js'\r\n\timport { fenFormat } from 'common/utils.js'\r\n\timport Pagination from 'components/content/Pagination/Pagination.vue'\r\n\t\r\n\texport default{\r\n\t\tname:\"SearchSongs\",\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\ttableData:[],\r\n\t\t\t\tpageSize:50,\r\n\t\t\t\tpage:0,\r\n\t\t\t\tkey:'',\r\n\t\t\t\tfirstCK:false,\r\n\t\t\t\tcur:0,\r\n\t\t\t\tcurrentRow: null,\r\n\t\t\t\tcnum:0,\r\n\t\t\t\tisLoading:true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tPagination\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.key = this.$route.params.id\r\n\t\t\t\r\n\t\t\tthis.getSongs();\r\n\t\t\t\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tcur(){\r\n\t\t\t\t\r\n\t\t\t\tif(this.cur === -1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$refs.singleTable.setCurrentRow();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$refs.singleTable.setCurrentRow(this.tableData[this.cur]);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t$route(to,from){\r\n\t\t\t\tthis.$router.go(0)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet that = this;\r\n\t\t\tthis.$bus.$on('openList',(id) => {\r\n\t\t\t\tthis.cur = -1;\r\n\t\t\t\tthis.tableData.findIndex(function(value, index, arr) {\r\n\t\t\t\t\tif(id === value.id) {\r\n\t\t\t\t\t\tthat.cur = index\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tgetSongs(){\r\n\t\t\t\tlet pg = this.pageSize * this.page;\r\n\t\t\t\tgetResult(this.pageSize, pg, this.key, '').then(res => {\r\n\t\t\t\t\tthis.tableData = res.result.songs;\r\n\t\t\t\t\tthis.cnum = res.result.songCount;\r\n\t\t\t\t\tthis.$bus.$emit(\"all\",this.cnum);\r\n\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tplaySong(val){\r\n\t\t\t\r\n\t\t\t\tif(!this.firstCK){\r\n\t\t\t\t\tthis.$store.commit('addMusicList',this.tableData);\r\n\t\t\t\t\tthis.firstCK = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$bus.$emit(\"play\",val);\r\n\t\t\t\tthis.$refs.singleTable.setCurrentRow(this.tableData[this.cur]);\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tthis.currentRow = val;\r\n\t\t\t\t\r\n\t\t\t\t//this.$bus.$emit(\"play\",val.id);\r\n\t\t\t},\r\n\t\t\tfomat(val){\r\n\t\t\t\tif(val.hasOwnProperty('artists')){\r\n\t\t\t\t\treturn fenFormat(val.duration/1000)\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn fenFormat(val.dt/1000)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgoPage(val){\r\n\t\t\t\tthis.page = val-1;\r\n\t\t\t\tthis.getSongs();\r\n\t\t\t\t\r\n\t\t\t\tthis.$bus.$emit(\"gotop\")\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.pg{\r\n\t\tpadding-top: 30px;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./SearchSongs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./SearchSongs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchSongs.vue?vue&type=template&id=ede19daa&scoped=true&\"\nimport script from \"./SearchSongs.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchSongs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchSongs.vue?vue&type=style&index=0&id=ede19daa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ede19daa\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./SearchSongs.vue?vue&type=style&index=0&id=ede19daa&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./SearchSongs.vue?vue&type=style&index=0&id=ede19daa&lang=scss&scoped=true&\""],"sourceRoot":""}