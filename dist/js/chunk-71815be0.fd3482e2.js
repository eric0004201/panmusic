(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71815be0"],{"34ff":function(t,a,e){"use strict";var n=e("ecc8"),r=e.n(n);r.a},"63ad":function(t,a,e){"use strict";var n=e("7dac"),r=e.n(n);r.a},"7dac":function(t,a,e){},"9be4":function(t,a,e){},a2f9:function(t,a,e){"use strict";var n=e("9be4"),r=e.n(n);r.a},ac58:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"slist"},[e("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.mTableData,"highlight-current-row":""},on:{"row-click":t.playSong,"current-change":t.handleCurrentChange}},[e("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),e("el-table-column",{attrs:{label:" ",width:"130"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("img",{staticClass:"timg",attrs:{src:t.imgSrc(a)},on:{load:t.timgload}})]}}])}),e("el-table-column",{attrs:{property:"name",label:"音乐标题",width:""}}),e("el-table-column",{attrs:{property:"name",formatter:t.person,label:"歌手"}}),e("el-table-column",{attrs:{property:"name",label:"专辑",formatter:t.edition,width:""}}),e("el-table-column",{attrs:{property:"dt",formatter:t.fomat,width:"100",label:"时长"}})],1)],1)},r=[],i=(e("9302"),e("053b"),e("e35a"),e("0d7a"),e("52ef")),s=e("90b9"),c={name:"SongsList",data:function(){return{loadNum:0,firstCK:!1,cur:0}},props:{mTableData:{type:Array,default:function(){return[]}}},watch:{cur:function(){-1===this.cur?this.$refs.singleTable.setCurrentRow():this.$refs.singleTable.setCurrentRow(this.mTableData[this.cur])}},methods:{playSong:function(t){this.firstCK||(this.$store.commit("addMusicList",this.mTableData),this.firstCK=!0),this.$bus.$emit("play",t),this.$refs.singleTable.setCurrentRow(this.mTableData[this.cur])},handleCurrentChange:function(t){this.currentRow=t},timgload:function(){this.loadNum++,this.loadNum>=this.mTableData.length&&this.$emit("imgDone")},imgSrc:function(t){return t.row.hasOwnProperty("al")?"//"+t.row.al.picUrl.split("//")[1]+"?param=120y120":"//"+t.row.album.picUrl.split("//")[1]+"?param=120y120"},fomat:function(t){return t.hasOwnProperty("artists")?Object(s["c"])(t.duration/1e3):Object(s["c"])(t.dt/1e3)},person:function(t){if(t.hasOwnProperty("artists")){var a,e=[],n=Object(i["a"])(t.artists);try{for(n.s();!(a=n.n()).done;){var r=a.value;e.push(r.name)}}catch(u){n.e(u)}finally{n.f()}return e.join("/")}var s,c=[],l=Object(i["a"])(t.ar);try{for(l.s();!(s=l.n()).done;){var o=s.value;c.push(o.name)}}catch(u){l.e(u)}finally{l.f()}return c.join("/")},edition:function(t){return t.hasOwnProperty("artists")?t.album.name:t.al.name}}},l=c,o=(e("a2f9"),e("9ca4")),u=Object(o["a"])(l,n,r,!1,null,"360fece1",null);a["a"]=u.exports},c169:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tag-list"},[e("ul",t._l(t.tags,(function(a,n){return e("li",{key:n,class:{on:t.curTag===n},on:{click:function(a){return t.tagClick(n,a)}}},[t._v(" "+t._s(a)+" ")])})),0)])},r=[],i=(e("e35a"),e("5e9f"),{name:"Tags",props:{tags:{type:Array,default:function(){return[]}}},data:function(){return{curTag:0}},methods:{tagClick:function(t,a){this.curTag=t;var e=a.target.innerHTML.replace(/\s*/g,"");this.$emit("tagClick",e)}}}),s=i,c=(e("63ad"),e("9ca4")),l=Object(c["a"])(s,n,r,!1,null,"bc724c06",null);a["a"]=l.exports},d25c:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main"},[e("div",{staticClass:"main-in"},[e("tags",{attrs:{tags:t.tags},on:{tagClick:t.tagClick}}),e("div",[e("songs-list",{ref:"songs",attrs:{mTableData:t.mTableData},on:{imgDone:t.imgDone}})],1)],1)])},r=[],i=(e("3466"),e("c169")),s=e("ac58"),c=e("3f4e"),l={name:"NewMusic",components:{Tags:i["a"],SongsList:s["a"]},data:function(){return{tags:["全部","华语","欧美","日本","韩国"],mTableData:[],loading:!1}},created:function(){this.getList(0)},mounted:function(){var t=this,a=this;this.$bus.$on("openList",(function(e){t.cur=-1,t.mTableData.findIndex((function(t,n,r){e===t.id&&(a.cur=n)})),t.$refs.songs.cur=t.cur}))},methods:{tagClick:function(t){var a=0;switch(t){case"全部":a=0;break;case"华语":a=7;break;case"欧美":a=96;break;case"日本":a=8;break;case"韩国":a=16;break}this.getList(a)},imgDone:function(){this.loading=!1},getList:function(t){var a=this;this.loading=!0,Object(c["e"])(t).then((function(t){a.mTableData=t.data,a.$refs.songs.firstCK=!1,a.loading=!1}))}}},o=l,u=(e("34ff"),e("9ca4")),f=Object(u["a"])(o,n,r,!1,null,"c07cd42a",null);a["default"]=f.exports},ecc8:function(t,a,e){}}]);
//# sourceMappingURL=chunk-71815be0.fd3482e2.js.map