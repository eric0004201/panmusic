(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c575b6b8"],{"039c":function(t,e,a){"use strict";var n=a("f689"),i=a.n(n);i.a},"3fb8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-songs"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":""},on:{"current-change":t.handleCurrentChange,"row-click":t.playSong}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"100"}}),a("el-table-column",{attrs:{property:"name",label:"音乐标题","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{width:"30"}}),a("el-table-column",{attrs:{property:"artists[0].name",label:"歌手",width:""}}),a("el-table-column",{attrs:{property:"album.name",label:"专辑",width:""}}),a("el-table-column",{attrs:{property:"name",formatter:t.fomat,width:"100",label:"时长"}})],1),a("div",{staticClass:"pg"},[a("pagination",{ref:"page",attrs:{pageSize:t.pageSize,total:t.cnum},on:{goPage:t.goPage}})],1)],1)},i=[],s=(a("3466"),a("2b9f")),r=a("90b9"),o=a("8e05"),l={name:"SearchSongs",data:function(){return{tableData:[],pageSize:50,page:0,key:"",firstCK:!1,cur:0,currentRow:null,cnum:0}},components:{Pagination:o["a"]},created:function(){this.key=this.$route.params.id,this.getSongs()},watch:{cur:function(){-1===this.cur?this.$refs.singleTable.setCurrentRow():this.$refs.singleTable.setCurrentRow(this.tableData[this.cur])},$route:function(t,e){this.$router.go(0)}},mounted:function(){var t=this,e=this;this.$bus.$on("openList",(function(a){t.cur=-1,t.tableData.findIndex((function(t,n,i){a===t.id&&(e.cur=n)}))}))},methods:{getSongs:function(){var t=this,e=this.pageSize*this.page;Object(s["g"])(this.pageSize,e,this.key,"").then((function(e){t.tableData=e.result.songs,t.cnum=e.result.songCount,t.$bus.$emit("all",t.cnum)}))},playSong:function(t){this.firstCK||(this.$store.commit("addMusicList",this.tableData),this.firstCK=!0),this.$bus.$emit("play",t),this.$refs.singleTable.setCurrentRow(this.tableData[this.cur])},handleCurrentChange:function(t){this.currentRow=t},fomat:function(t){return t.hasOwnProperty("artists")?Object(r["c"])(t.duration/1e3):Object(r["c"])(t.dt/1e3)},goPage:function(t){this.page=t-1,this.getSongs(),this.$bus.$emit("gotop")}}},c=l,u=(a("039c"),a("9ca4")),h=Object(u["a"])(c,n,i,!1,null,"573c723a",null);e["default"]=h.exports},f689:function(t,e,a){}}]);
//# sourceMappingURL=chunk-c575b6b8.c7eead01.js.map